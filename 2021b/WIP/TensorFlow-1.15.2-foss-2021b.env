#!/bin/bash
# script to set up build environment as defined by EasyBuild v4.5.1.dev0 for TensorFlow-1.15.2-foss-2021b.eb
# usage: source TensorFlow-1.15.2-foss-2021b.env

# toolchain & dependency modules
module load foss/2021b
module load Bazel/.0.26.1
module load protobuf/.3.17.3
module load git/2.33.1-nodocs
module load Python/3.9.6
module load SciPy-bundle/2021.10
module load h5py/3.6.0

# build environment
export BLAS_INC_DIR='/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/include/flexiblas'
export BLAS_LAPACK_INC_DIR='/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/include/flexiblas'
export BLAS_LAPACK_LIB_DIR='/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/lib'
export BLAS_LAPACK_MT_SHARED_LIBS='libflexiblas.so,libgfortran.so'
export BLAS_LAPACK_MT_STATIC_LIBS='libflexiblas.a,libgfortran.a'
export BLAS_LAPACK_SHARED_LIBS='libflexiblas.so,libgfortran.so'
export BLAS_LAPACK_STATIC_LIBS='libflexiblas.a,libgfortran.a'
export BLAS_LIB_DIR='/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/lib'
export BLAS_MT_SHARED_LIBS='libflexiblas.so,libgfortran.so'
export BLAS_MT_STATIC_LIBS='libflexiblas.a,libgfortran.a'
export BLAS_SHARED_LIBS='libflexiblas.so,libgfortran.so'
export BLAS_STATIC_LIBS='libflexiblas.a,libgfortran.a'
export CC='mpicc'
export CC_SEQ='gcc'
export CFLAGS='-O2 -ftree-vectorize -march=znver1 -mavx2 -mfma -g -fno-math-errno'
export CPPFLAGS='-I/opt/apps/centos7/naples/software/Python/3.9.6-GCCcore-11.2.0/include -I/opt/apps/centos7/naples/software/protobuf/3.17.3-GCCcore-11.2.0/include -I/opt/apps/centos7/naples/software/FFTW/3.3.10-gompi-2021.07/include -I/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/include -I/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/include/flexiblas'
export CXX='mpicxx'
export CXXFLAGS='-O2 -ftree-vectorize -march=znver1 -mavx2 -mfma -g -fno-math-errno'
export CXX_SEQ='g++'
export F77='mpifort'
export F77_SEQ='gfortran'
export F90='mpifort'
export F90FLAGS='-O2 -ftree-vectorize -march=znver1 -mavx2 -mfma -g -fno-math-errno'
export F90_SEQ='gfortran'
export FC='mpifort'
export FCFLAGS='-O2 -ftree-vectorize -march=znver1 -mavx2 -mfma -g -fno-math-errno'
export FC_SEQ='gfortran'
export FFLAGS='-O2 -ftree-vectorize -march=znver1 -mavx2 -mfma -g -fno-math-errno'
export FFTW_INC_DIR='/opt/apps/centos7/naples/software/FFTW/3.3.10-gompi-2021.07/include'
export FFTW_LIB_DIR='/opt/apps/centos7/naples/software/FFTW/3.3.10-gompi-2021.07/lib'
export FFTW_SHARED_LIBS='libfftw3_mpi.so,libfftw3.so'
export FFTW_SHARED_LIBS_MT='libfftw3.so,libpthread.so'
export FFTW_STATIC_LIBS='libfftw3_mpi.a,libfftw3.a'
export FFTW_STATIC_LIBS_MT='libfftw3.a,libpthread.a'
export FFT_INC_DIR='/opt/apps/centos7/naples/software/FFTW/3.3.10-gompi-2021.07/include'
export FFT_LIB_DIR='/opt/apps/centos7/naples/software/FFTW/3.3.10-gompi-2021.07/lib'
export FFT_SHARED_LIBS='libfftw3_mpi.so,libfftw3.so'
export FFT_SHARED_LIBS_MT='libfftw3.so,libpthread.so'
export FFT_STATIC_LIBS='libfftw3_mpi.a,libfftw3.a'
export FFT_STATIC_LIBS_MT='libfftw3.a,libpthread.a'
export FLIBS='-lgfortran'
export LAPACK_INC_DIR='/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/include/flexiblas'
export LAPACK_LIB_DIR='/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/lib'
export LAPACK_MT_SHARED_LIBS='libflexiblas.so,libgfortran.so'
export LAPACK_MT_STATIC_LIBS='libflexiblas.a,libgfortran.a'
export LAPACK_SHARED_LIBS='libflexiblas.so,libgfortran.so'
export LAPACK_STATIC_LIBS='libflexiblas.a,libgfortran.a'
export LDFLAGS='-L/opt/apps/centos7/naples/software/h5py/3.6.0-foss-2021b/lib64 -L/opt/apps/centos7/naples/software/h5py/3.6.0-foss-2021b/lib -L/opt/apps/centos7/naples/software/SciPy-bundle/2021.10-foss-2021b/lib64 -L/opt/apps/centos7/naples/software/SciPy-bundle/2021.10-foss-2021b/lib -L/opt/apps/centos7/naples/software/Python/3.9.6-GCCcore-11.2.0/lib64 -L/opt/apps/centos7/naples/software/Python/3.9.6-GCCcore-11.2.0/lib -L/opt/apps/centos7/naples/software/protobuf/3.17.3-GCCcore-11.2.0/lib64 -L/opt/apps/centos7/naples/software/protobuf/3.17.3-GCCcore-11.2.0/lib -L/opt/apps/centos7/naples/software/FFTW/3.3.10-gompi-2021.07/lib64 -L/opt/apps/centos7/naples/software/FFTW/3.3.10-gompi-2021.07/lib -L/opt/apps/centos7/naples/software/ScaLAPACK/2.1.0-gompi-2021.07-fb/lib64 -L/opt/apps/centos7/naples/software/ScaLAPACK/2.1.0-gompi-2021.07-fb/lib -L/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/lib64 -L/opt/apps/centos7/naples/software/FlexiBLAS/3.0.4-GCC-11.2.0/lib -L/opt/apps/centos7/naples/software/GCCcore/11.2.0/lib64 -L/opt/apps/centos7/naples/software/GCCcore/11.2.0/lib'
export LIBBLAS='-lflexiblas -lgfortran'
export LIBBLAS_MT='-lflexiblas -lgfortran'
export LIBFFT='-lfftw3_mpi -lfftw3'
export LIBFFT_MT='-lfftw3 -lpthread'
export LIBLAPACK='-lflexiblas -lgfortran'
export LIBLAPACK_MT='-lflexiblas -lgfortran'
export LIBLAPACK_MT_ONLY='-lflexiblas -lgfortran'
export LIBLAPACK_ONLY='-lflexiblas -lgfortran'
export LIBS='-lm -lpthread'
export LIBSCALAPACK='-lscalapack -lflexiblas -lgfortran'
export LIBSCALAPACK_MT='-lscalapack -lflexiblas -lpthread -lgfortran'
export LIBSCALAPACK_MT_ONLY='-lscalapack -lgfortran'
export LIBSCALAPACK_ONLY='-lscalapack -lgfortran'
export MPICC='mpicc'
export MPICXX='mpicxx'
export MPIF77='mpifort'
export MPIF90='mpifort'
export MPIFC='mpifort'
export MPI_INC_DIR='/opt/apps/centos7/naples/software/OpenMPI/4.1.1-GCC-11.2.0/include'
export MPI_LIB_DIR='/opt/apps/centos7/naples/software/OpenMPI/4.1.1-GCC-11.2.0/lib64'
export MPI_LIB_SHARED='/opt/apps/centos7/naples/software/OpenMPI/4.1.1-GCC-11.2.0/lib64/libmpi.so'
export MPI_LIB_STATIC=''
export OMPI_CC='gcc'
export OMPI_CXX='g++'
export OMPI_F77='gfortran'
export OMPI_F90='gfortran'
export OMPI_FC='gfortran'
export OPTFLAGS='-O2 -ftree-vectorize -march=znver1 -mavx2 -mfma -g'
export PRECFLAGS='-fno-math-errno'
export SCALAPACK_INC_DIR=''
export SCALAPACK_LIB_DIR='/opt/apps/centos7/naples/software/ScaLAPACK/2.1.0-gompi-2021.07-fb/lib'
export SCALAPACK_MT_SHARED_LIBS='libscalapack.so,libflexiblas.so,libgfortran.so,libpthread.so'
export SCALAPACK_MT_STATIC_LIBS='libscalapack.a,libflexiblas.a,libgfortran.a,libpthread.a'
export SCALAPACK_SHARED_LIBS='libscalapack.so,libflexiblas.so,libgfortran.so'
export SCALAPACK_STATIC_LIBS='libscalapack.a,libflexiblas.a,libgfortran.a'